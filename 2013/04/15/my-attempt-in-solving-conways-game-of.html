<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>My attempt in solving Conway's game of life - a post mortem</title><link rel="stylesheet" type="text/css" href="/assets/main-light.css"></head>
<body>
    <div class="container"><header>
  <div class="menu">
    <ul><li><a href="/">/home</a></li><li><a href="/about/">/about</a></li></ul>
  </div>
</header>
<main>
      <b>My attempt in solving Conway's game of life - a post mortem</b>
<br>
<br>
<div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-family: inherit;">Recently, I'd applied for a Senior Developer position in Thoughtworks. Like they usually do, I was asked to solve any one of the problems from this list</span><br /><span style="font-family: inherit;">- Merchant's guide to Galaxy</span><br /><span style="font-family: inherit;">- Conference track management</span><br /><span style="font-family: inherit;">- Conway's Game of Life</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">I chose <span style="color: blue;"><a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life"><b>Conway's Game of Life</b></a></span>. One of my friends had applied for Thoughtworks a few months ago and I remember discussing at length with him about the problem. To begin with, I had a fair idea of what to do. The problem looks fairly simple. You'll be given a cell pattern (comprising of live and dead cell). The cell pattern would grow/shrink based on the neighbouring cell's state. There are rules to govern that.</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">For instance, any live cell with more than 3 live neighbours will die due to over crowding.</span><br /><span style="font-family: inherit;">Any live cell with less than 2 live neighbours will die of loneliness. Etc</span><br /><span style="font-family: inherit;">Check out this wiki link for more details about the game.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><b><u>My approach</u></b></span><br /><span style="font-family: inherit;">I wanted to decouple the way in which the rules are applied to the cells so that one rule need not know what the other one does and can be executed exclusively. I came up with this approach of listing down the rules in a properties file in this manner and load them at run time to a list.</span><br /><span style="font-family: inherit;"><br /></span><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><table><tbody><tr><td><pre style="line-height: 125%; margin: 0;">1<br />2<br />3</pre></td><td><pre style="line-height: 125%; margin: 0;"><span style="color: grey;">#Add Rules this way</span><br /><span style="color: grey;">#Rule_Name = Rule_Implementation_Class</span><br />TestRule <span style="color: #303030;">=</span> com<span style="color: #303030;">.</span>java<span style="color: #303030;">.</span>tw<span style="color: #303030;">.</span>gol<span style="color: #303030;">.</span>rules<span style="color: #303030;">.</span>handlers<span style="color: #303030;">.</span>TestRuleHandler<br /></pre></td></tr></tbody></table></div><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Each cell in the universe will be subjected to the rules from the list all at once.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">I was asked to come down to their office for the pair programming round. Two other employees sat with me to analyze the code. I was asked to explain my design and I was asked questions on the rationale/logic behind my design. They gave an extension to the problem and my design handled it #likeABoss without much code change.</span><br /><br /><span style="font-family: inherit;">YET, I FAILED TO CLEAR THE PAIR PROGRAMMING ROUND. It lasted for about 1.5 hrs after which the HR told me this (verbatim)</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><i>They were impressed with your design and the way in which you have thought through the problem. But you must concentrate on finer nuances of OOPS.</i></span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><b><u>Pain points in my design</u></b></span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">They asked me why I'd added an attribute private String cellValue. I told them that I added it purely to represent a cell(x for a live cell and - for a dead cell).</span><br /><span style="font-family: inherit;">The actual problem lies not in having an attribute for display purpose but in the way I'd handled the attribute.</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Now, imagine we create a cell using this constructor.</span><br /><span style="font-family: inherit;"><br /></span><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><table><tbody><tr><td><pre style="line-height: 125%; margin: 0;">1<br />2<br />3<br />4<br />5<br />6<br />7</pre></td><td><pre style="line-height: 125%; margin: 0;"><span style="color: green; font-weight: bold;">public</span> <span style="color: #0060b0; font-weight: bold;">Cell</span><span style="color: #303030;">(</span><span style="color: #303090; font-weight: bold;">int</span> x<span style="color: #303030;">,</span> <span style="color: #303090; font-weight: bold;">int</span> y<span style="color: #303030;">,</span> <span style="color: #303090; font-weight: bold;">boolean</span> cellState<span style="color: #303030;">,</span> String value<span style="color: #303030;">)</span><br /><span style="color: #303030;">{</span><br /> <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">xPos</span> <span style="color: #303030;">=</span> x<span style="color: #303030;">;</span><br /> <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">yPos</span> <span style="color: #303030;">=</span> y<span style="color: #303030;">;</span><br /> <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">isAlive</span> <span style="color: #303030;">=</span> cellState<span style="color: #303030;">;</span><br /> <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">cellValue</span> <span style="color: #303030;">=</span> value<span style="color: #303030;">;</span><br /><span style="color: #303030;">}</span><br /></pre></td></tr></tbody></table></div><span style="font-family: inherit;"><br /></span><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;">Cell c <span style="color: #303030;">=</span> <span style="color: green; font-weight: bold;">new</span> Cell<span style="color: #303030;">(</span><span style="color: #0000d0; font-weight: bold;">0</span><span style="color: #303030;">,</span><span style="color: #0000d0; font-weight: bold;">0</span><span style="color: #303030;">,</span><span style="color: green; font-weight: bold;">true</span><span style="color: #303030;">,</span><span style="background-color: #fff0f0;">"-"</span><span style="color: #303030;">);</span> <br /></pre></div><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">See what I'd done there? We are setting the isAlive attribute to true and representing the cell using '-'. This kind of breaks the whole thing right?</span><br /><span style="font-family: inherit;"><br /></span><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: green; font-weight: bold;">public</span> <span style="color: #0060b0; font-weight: bold;">Cell</span><span style="color: #303030;">(</span><span style="color: #303090; font-weight: bold;">int</span> x<span style="color: #303030;">,</span> <span style="color: #303090; font-weight: bold;">int</span> y<span style="color: #303030;">,</span> <span style="color: #303090; font-weight: bold;">boolean</span> cellState<span style="color: #303030;">)</span><br /><span style="color: #303030;">{</span><br />  <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">xPos</span> <span style="color: #303030;">=</span> x<span style="color: #303030;">;</span><br />  <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">yPos</span> <span style="color: #303030;">=</span> y<span style="color: #303030;">;</span><br />  <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">isAlive</span> <span style="color: #303030;">=</span> cellState<span style="color: #303030;">;</span><br />  <span style="color: grey;">//Fix</span><br />  <span style="color: green; font-weight: bold;">if</span><span style="color: #303030;">(</span>cellState<span style="color: #303030;">)</span><br />   <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">cellValue</span> <span style="color: #303030;">=</span> <span style="background-color: #fff0f0;">"X"</span><span style="color: #303030;">;</span><br />  <span style="color: green; font-weight: bold;">else</span><br />   <span style="color: green; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">cellValue</span> <span style="color: #303030;">=</span> <span style="background-color: #fff0f0;">"-"</span><span style="color: #303030;">;</span><br /><span style="color: #303030;">}</span> <br /></pre></div><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">My <b><u><span style="color: blue;"><a href="https://github.com/karthikch53/GameOfLife/blob/master/GameOfLife/src/com/java/tw/gol/utils/GolUtils.java">GolUtils</a></span></u></b> class had methods like getNeighbouringLiveCellCount and checkIfCellIsAlive which do the chunk of the business logic. Placing them in Util class was really bad in their perspective.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><b><u><span style="color: blue;"><a href="https://github.com/karthikch53/GameOfLife/blob/master/GameOfLife/src/com/java/tw/gol/model/CellPattern.java">CellPatter.java</a></span></u></b> has getters and setters which are exposed publicly. As in, anybody can change the cell state. By exposing the setters we are running into the danger of raw data being tampered.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><b><u>Nice to have feature</u></b>: The user should be able to run the game for n no of times.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Over all, its was 90 mins well spent. I have learnt to look things the way, which I would have not even bothered earlier.&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Game of Life - <b><u><span style="color: blue;"><a href="https://github.com/karthikch53/GameOfLife">Github URL</a></span></u></b></span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Do let me know if you see any basic flaws/any improvements that can be done. Please feel free to fork it on Github.</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Happy Coding :)</span><br /><span style="font-family: inherit;">~ cheers.!</span></div>
<br>
<br>

<a href="/tag/game_of_life/index.html" rel="tag">game_of_life</a>

<a href="/tag/interview/index.html" rel="tag">interview</a>

<a href="/tag/design_patterns/index.html" rel="tag">design_patterns</a>

<a href="/tag/thoughtworks/index.html" rel="tag">thoughtworks</a>

<a href="/tag/solution/index.html" rel="tag">solution</a>

<a href="/tag/java/index.html" rel="tag">java</a>



    </main><footer>
  
</footer>
</div>
  </body>
</html>
